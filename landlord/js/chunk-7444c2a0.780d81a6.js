(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7444c2a0"],{"01fc":function(t,a,e){"use strict";var n=e("23e1"),i=e.n(n);i.a},"1a23":function(t,a,e){var n,i;!function(r,o){n=o,i="function"===typeof n?n.call(a,e,a,t):n,void 0===i||(t.exports=i)}(0,(function(t,a,e){var n=function(t,a,e,n,i,r){function o(t){var a,e,n,i,r,o,s=t<0;if(t=Math.abs(t).toFixed(l.decimals),t+="",a=t.split("."),e=a[0],n=a.length>1?l.options.decimal+a[1]:"",l.options.useGrouping){for(i="",r=0,o=e.length;r<o;++r)0!==r&&r%3===0&&(i=l.options.separator+i),i=e[o-r-1]+i;e=i}return l.options.numerals.length&&(e=e.replace(/[0-9]/g,(function(t){return l.options.numerals[+t]})),n=n.replace(/[0-9]/g,(function(t){return l.options.numerals[+t]}))),(s?"-":"")+l.options.prefix+e+n+l.options.suffix}function s(t,a,e,n){return e*(1-Math.pow(2,-10*t/n))*1024/1023+a}function u(t){return"number"==typeof t&&!isNaN(t)}var l=this;if(l.version=function(){return"1.9.3"},l.options={useEasing:!0,useGrouping:!0,separator:",",decimal:".",easingFn:s,formattingFn:o,prefix:"",suffix:"",numerals:[]},r&&"object"==typeof r)for(var d in l.options)r.hasOwnProperty(d)&&null!==r[d]&&(l.options[d]=r[d]);""===l.options.separator?l.options.useGrouping=!1:l.options.separator=""+l.options.separator;for(var c=0,m=["webkit","moz","ms","o"],f=0;f<m.length&&!window.requestAnimationFrame;++f)window.requestAnimationFrame=window[m[f]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[m[f]+"CancelAnimationFrame"]||window[m[f]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,a){var e=(new Date).getTime(),n=Math.max(0,16-(e-c)),i=window.setTimeout((function(){t(e+n)}),n);return c=e+n,i}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)}),l.initialize=function(){return!!l.initialized||(l.error="",l.d="string"==typeof t?document.getElementById(t):t,l.d?(l.startVal=Number(a),l.endVal=Number(e),u(l.startVal)&&u(l.endVal)?(l.decimals=Math.max(0,n||0),l.dec=Math.pow(10,l.decimals),l.duration=1e3*Number(i)||2e3,l.countDown=l.startVal>l.endVal,l.frameVal=l.startVal,l.initialized=!0,!0):(l.error="[CountUp] startVal ("+a+") or endVal ("+e+") is not a number",!1)):(l.error="[CountUp] target is null or undefined",!1))},l.printValue=function(t){var a=l.options.formattingFn(t);"INPUT"===l.d.tagName?this.d.value=a:"text"===l.d.tagName||"tspan"===l.d.tagName?this.d.textContent=a:this.d.innerHTML=a},l.count=function(t){l.startTime||(l.startTime=t),l.timestamp=t;var a=t-l.startTime;l.remaining=l.duration-a,l.options.useEasing?l.countDown?l.frameVal=l.startVal-l.options.easingFn(a,0,l.startVal-l.endVal,l.duration):l.frameVal=l.options.easingFn(a,l.startVal,l.endVal-l.startVal,l.duration):l.countDown?l.frameVal=l.startVal-(l.startVal-l.endVal)*(a/l.duration):l.frameVal=l.startVal+(l.endVal-l.startVal)*(a/l.duration),l.countDown?l.frameVal=l.frameVal<l.endVal?l.endVal:l.frameVal:l.frameVal=l.frameVal>l.endVal?l.endVal:l.frameVal,l.frameVal=Math.round(l.frameVal*l.dec)/l.dec,l.printValue(l.frameVal),a<l.duration?l.rAF=requestAnimationFrame(l.count):l.callback&&l.callback()},l.start=function(t){l.initialize()&&(l.callback=t,l.rAF=requestAnimationFrame(l.count))},l.pauseResume=function(){l.paused?(l.paused=!1,delete l.startTime,l.duration=l.remaining,l.startVal=l.frameVal,requestAnimationFrame(l.count)):(l.paused=!0,cancelAnimationFrame(l.rAF))},l.reset=function(){l.paused=!1,delete l.startTime,l.initialized=!1,l.initialize()&&(cancelAnimationFrame(l.rAF),l.printValue(l.startVal))},l.update=function(t){if(l.initialize()){if(t=Number(t),!u(t))return void(l.error="[CountUp] update() - new endVal is not a number: "+t);l.error="",t!==l.frameVal&&(cancelAnimationFrame(l.rAF),l.paused=!1,delete l.startTime,l.startVal=l.frameVal,l.endVal=t,l.countDown=l.startVal>l.endVal,l.rAF=requestAnimationFrame(l.count))}},l.initialize()&&l.printValue(l.startVal)};return n}))},"1a5c":function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("rental-statistics",{attrs:{id:""}}),e("Divider"),e("search-card",[e("Form",{staticClass:"block",attrs:{"label-width":150},nativeOn:{submit:function(t){t.preventDefault()}}},[e("FormItem",{attrs:{label:"地址、姓名或手机号："}},[e("Input",{staticClass:"common-input",attrs:{placeholder:"请输入房源地址、房东姓名或者手机号码",search:"","enter-button":"搜索"},on:{"on-search":t.search},model:{value:t.searchData.param,callback:function(a){t.$set(t.searchData,"param",a)},expression:"searchData.param"}})],1)],1)],1),e("Divider"),e("Card",{attrs:{shadow:""}},[e("h4",{attrs:{slot:"title"},slot:"title"},[t._v("\n      房源列表\n      ")]),e("v-table",{attrs:{table:{data:t.data,loading:t.tableLoaing},total:t.total,current:t.curPage,pageSize:t.pageSize,showPage:!0},on:{"change-page":t.changePage,"update:current":function(a){t.curPage=a},"update:pageSize":function(a){t.pageSize=a},"update:page-size":function(a){t.pageSize=a}}},[e("div",{key:"name",attrs:{title:"房源地址"}}),e("div",{key:"rentedRoomNum",attrs:{title:"出租房间数量"}}),e("div",{key:"landlordName",attrs:{title:"房东姓名"}}),e("div",{attrs:{title:"手机号码"},scopedSlots:t._u([{key:"default",fn:function(t){return e("div",{},[e("phone-tip",{attrs:{phone:t.mobile}})],1)}}])}),e("div",{attrs:{title:"身份证号码"},scopedSlots:t._u([{key:"default",fn:function(t){return e("div",{},[e("id-tip",{attrs:{id:t.idCardNo}})],1)}}])}),e("div",{key:"address",attrs:{title:"详细地址"}}),e("div",{key:"cont",attrs:{title:"联系人"}}),e("div",{attrs:{title:"操作",width:250},scopedSlots:t._u([{key:"default",fn:function(a){return e("div",{},[e("Button",{attrs:{type:"warning",size:"small"},on:{click:function(e){return t.viewHouse(a)}}},[t._v("查看楼层房屋")]),e("Button",{attrs:{type:"info",size:"small"},on:{click:function(e){return t.edit(a)}}},[t._v("编辑联系人")])],1)}}])})])],1),e("Modal",{attrs:{title:"编辑联系人",width:"500"},model:{value:t.modal.visible,callback:function(a){t.$set(t.modal,"visible",a)},expression:"modal.visible"}},[e("Form",{ref:"form",attrs:{model:t.modal.data,rules:t.modal.rules,"label-width":150}},[e("Row",[e("FormItem",{attrs:{label:"选择房管(可不选)："}},[e("Select",{attrs:{placeholder:"选择房管",value:t.modal.manager,filterable:"",clearable:""},on:{"on-change":t.managersChange}},t._l(t.modal.managers,(function(a,n){return e("Option",{key:a.id,attrs:{value:n}},[t._v(t._s(a.name))])})),1)],1)],1),e("Row",[e("FormItem",{attrs:{prop:"name",label:"姓名："}},[e("Input",{attrs:{placeholder:"请输入姓名"},model:{value:t.modal.data.name,callback:function(a){t.$set(t.modal.data,"name",a)},expression:"modal.data.name"}})],1)],1),e("Row",[e("FormItem",{attrs:{prop:"mobile",label:"手机号："}},[e("Input",{attrs:{placeholder:"请输入手机号"},model:{value:t.modal.data.mobile,callback:function(a){t.$set(t.modal.data,"mobile",a)},expression:"modal.data.mobile"}})],1)],1)],1),e("div",{attrs:{slot:"footer"},slot:"footer"},[e("Button",{attrs:{type:"text",size:"large"},on:{click:function(a){t.modal.visible=!1}}},[t._v("取消")]),e("Button",{attrs:{type:"primary"},on:{click:t.confirm}},[t._v("确定")])],1)],1)],1)},i=[],r=(e("7f7f"),e("4260")),o=e("338a"),s=e("29cc"),u={mixins:[o["a"]],components:{rentalStatistics:s["a"]},data:function(){return{url:"admin/building/page",searchData:{param:""},data:[],modal:{visible:!1,title:"",rules:{name:r["a"].getRequiredRule("姓名不能为空"),mobile:r["a"].getRules().phone},data:{mobile:"",name:"",id:null},manager:null,managers:[]}}},methods:{confirm:function(){var t=this;this.$refs.form.validate((function(a){a&&r["a"].ajax.put("/admin/contact",t.modal.data).then((function(a){var e=a.code;a.data;0==e&&(t.$Message.success("编辑成功"),t.modal.visible=!1,t.changePage(t.curPage))}))}))},viewHouse:function(t){var a=t.id;this.$router.push({name:"rooms",query:{id:a}})},edit:function(t){var a=this;this.modal.data.mobile="",this.modal.data.name="",this.modal.manager=void 0,this.modal.data.id=t.id,r["a"].ajax("admin/building/managers",{params:{buildingId:t.id}}).then((function(t){var e=t.code,n=t.data;0==e&&n&&(a.modal.managers=[n])})),this.modal.visible=!0},managersChange:function(t){if(void 0==t)return this.modal.data.mobile="",void(this.modal.data.name="");var a=this.modal.managers[t],e=a.mobile,n=a.name;this.modal.data.mobile=e,this.modal.data.name=n}},activated:function(){var t=this.$route.query.id;t&&(this.queryTerms={landlordId:t},this.changePage(1))},mounted:function(){this.changePage(1)}},l=u,d=(e("01fc"),e("2877")),c=Object(d["a"])(l,n,i,!1,null,null,null);a["default"]=c.exports},"23e1":function(t,a,e){},"29cc":function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("Row",{staticClass:"info-card",attrs:{gutter:20}},[e("Col",{attrs:{span:12}},[e("Card",{attrs:{padding:0,shadow:""}},[e("div",{staticClass:"left",staticStyle:{background:"#ff9900"}},[e("Icon",{attrs:{type:"ios-log-in"}})],1),e("div",{staticClass:"right"},[e("ICountUp",{attrs:{startVal:0,endVal:t.rentedNum}}),e("p",[t._v("已出租")])],1)])],1),e("Col",{attrs:{span:12}},[e("Card",{attrs:{padding:0,shadow:""}},[e("div",{staticClass:"left",staticStyle:{background:"#2d8cf0"}},[e("Icon",{attrs:{type:"ios-log-out"}})],1),e("div",{staticClass:"right"},[e("ICountUp",{attrs:{startVal:0,endVal:t.unRentedNum}}),e("p",[t._v("未出租")])],1)])],1)],1)},i=[],r=e("4260"),o=e("4685"),s=e.n(o),u={components:{ICountUp:s.a},name:"",props:["id"],data:function(){return{rentedNum:0,unRentedNum:0}},methods:{getData:function(){var t=this,a=this.id,e={};if(void 0==a)return this.rentedNum=0,void(this.unRentedNum=0);e.buildingId=a,r["a"].ajax("admin/building/summary",{params:e}).then((function(a){var e=a.code,n=a.data;0==e&&(t.rentedNum=n.rentedNum,t.unRentedNum=n.unRentedNum)}))}},mounted:function(){this.getData()},watch:{id:function(t){this.getData()}}},l=u,d=e("2877"),c=Object(d["a"])(l,n,i,!1,null,null,null);a["a"]=c.exports},4685:function(t,a,e){!function(a,n){t.exports=n(e("1a23"))}("undefined"!=typeof self&&self,(function(t){return function(t){function a(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,a),i.l=!0,i.exports}var e={};return a.m=t,a.c=e,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},a.p="",a(a.s=0)}([function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=e(1),i=e.n(n),r=e(4),o=e.n(r),s={__countup__:o.a,name:"ICountUp",props:{startVal:{type:Number,required:!1,default:0},endVal:{type:Number,required:!0},decimals:{type:Number,required:!1,default:0},duration:{type:Number,required:!1,default:2},options:{type:Object,required:!1}},data:function(){return{instance:null}},watch:{endVal:{handler:function(t){var a=this;a.instance&&i()(a.instance.update)&&a.instance.update(t)},deep:!1}},methods:{init:function(){var t=this;if(!t.instance){var a=t.$el,e=new o.a(a,t.startVal,t.endVal,t.decimals,t.duration,t.options);e.error||(e.start((function(){return t.$emit("ready",e,o.a)})),t.instance=e)}},uninit:function(){this.instance=null},start:function(t){var a=this;if(a.instance&&i()(a.instance.start)&&i()(t))return a.instance.start(t)},pauseResume:function(){var t=this;if(t.instance&&i()(t.instance.pauseResume))return t.instance.pauseResume()},reset:function(){var t=this;if(t.instance&&i()(t.instance.reset))return t.instance.reset()},update:function(t){var a=this;if(a.instance&&i()(a.instance.update))return a.instance.update(t)}},mounted:function(){this.init()},beforeDestroy:function(){this.uninit()},render:function(t){return t("span",{})}};a.default=s},function(t,a,e){function n(t){if(!r(t))return!1;var a=i(t);return a==s||a==u||a==o||a==l}var i=e(2),r=e(3),o="[object AsyncFunction]",s="[object Function]",u="[object GeneratorFunction]",l="[object Proxy]";t.exports=n},function(t,a){function e(t){return i.call(t)}var n=Object.prototype,i=n.toString;t.exports=e},function(t,a){function e(t){var a=typeof t;return null!=t&&("object"==a||"function"==a)}t.exports=e},function(a,e){a.exports=t}])}))}}]);