(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ba280edc"],{"0895":function(e,t,n){},"1d28":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"layout"},[n("Layout",[n("Sider",{ref:"side1",attrs:{"hide-trigger":"",collapsible:"","collapsed-width":78,width:"240",breakpoint:"md"},model:{value:e.isCollapsed,callback:function(t){e.isCollapsed=t},expression:"isCollapsed"}},[n("Menu",{ref:"menu",class:e.menuitemClasses,attrs:{"active-name":e.$route.name,theme:"dark","open-names":e.openName}},[n("div",{staticClass:"layout-logo",on:{click:function(t){e.$router.push({path:"/"})}}},[e._v("东客管理后台")]),e._l(e.menu,function(t,a){return n("div",{key:a},[t.children?n("Submenu",{attrs:{name:t.name}},[n("template",{slot:"title"},[n("Icon",{staticClass:"menu-icon",attrs:{type:t.icon}}),n("span",{staticClass:"title"},[e._v(e._s(t.title))])],1),e._l(t.children,function(t,i){return n("MenuItem",{key:a+"_"+i,attrs:{name:t.name,to:{name:t.name}}},[e._v("\n            "+e._s(t.title)+"\n            ")])})],2):n("MenuItem",{attrs:{name:t.name,to:{name:t.name}}},[n("Icon",{staticClass:"menu-icon",attrs:{type:t.icon}}),n("span",{staticClass:"title"},[e._v(e._s(t.title))])],1)],1)})],2)],1),n("Layout",[n("Header",{staticClass:"layout-header-bar",style:{padding:0}},[n("Icon",{class:e.rotateIcon,style:{margin:"0 20px"},attrs:{type:"md-menu",size:"24"},nativeOn:{click:function(t){return e.collapsedSider(t)}}}),n("Menu",{staticStyle:{float:"right",height:"63px","line-height":"64px"},attrs:{mode:"horizontal","active-name":"1"},on:{"on-select":e.onChangeZones}},[n("Submenu",{attrs:{name:"user"}},[n("template",{slot:"title"},[n("Icon",{attrs:{type:"md-contact"}}),e._v("\n              "+e._s(e.name)+"\n            ")],1),n("MenuItem",{attrs:{name:"logout"}},[n("Icon",{attrs:{type:"md-power"}}),e._v(" 退出")],1)],2)],1)],1),n("Content",{style:{margin:"0 20px 20px",minHeight:"260px",position:"relative"}},[n("div",[e._v("  ")]),n("div",[n("keep-alive",{attrs:{exclude:e.exclude}},[n("router-view")],1)],1)])],1)],1)],1)},i=[],o=(n("7f7f"),n("cadf"),n("551c"),n("097d"),n("41cb"),[{name:"building",title:"首页",icon:"md-home"},{name:"rooms",title:"房屋管理",icon:"md-grid"},{name:"contract",title:"租约管理",icon:"ios-person-outline",children:[{name:"contractAdd",title:"新增租约"},{name:"contractUpdate",title:"修改租约"}]},{name:"bill",title:"账单管理",icon:"md-list",children:[{name:"addBill",title:"录入账单"},{name:"billList",title:"租金账单"},{name:"bill",title:"账单明细表"}]},{name:"account",title:"修改资料",icon:"ios-people",children:[{name:"landlord",title:"修改房东"},{name:"houseman",title:"修改房管"},{name:"tenant",title:"修改租客"}]}]),s=n("4260"),l={data:function(){return{exclude:["index"],isCollapsed:!1,name:"",menuActiveName:"",openName:[]}},computed:{menu:function(){return o},rotateIcon:function(){return["menu-icon",this.isCollapsed?"rotate-icon":""]},menuitemClasses:function(){return["menu-item",this.isCollapsed?"collapsed-menu":""]},currentPath:function(){var e=this,t=this.menu;if(t){var n=[{name:"首页",router:"index"}],a=this.$route.name;return"index"==a?[]:(t.some(function(e){e.name==a&&n.push({name:e.title,router:a})}),t.some(function(t){return!!t.children&&t.children.some(function(i){return i.router==a?(n.push(i),e.openName[0]=t.router,e.$nextTick(function(){e.$refs.menu.updateOpened()}),!0):!!i.children&&i.children.some(function(e){return e.router==a&&(n.push(i),n.push(e),!0)})})}),n)}}},methods:{collapsedSider:function(){this.$refs.side1.toggleCollapse()},onChangeZones:function(e){switch(e){case"logout":this.logout();break;case"user":case"zones":break;default:break}},logout:function(){var e=this;this.$Modal.confirm({title:"提示",content:"是否退出登录？",onOk:function(){s["a"].ajax("/user/logout").then(function(e){localStorage.removeItem("token")}),e.$router.push({name:"login"})}})}},created:function(){var e=this.$route.meta;e&&e.parent&&this.openName.push(e.parent)},mounted:function(){localStorage.token||this.$router.push({name:"login"})}},r=l,u=(n("6954"),n("2877")),c=Object(u["a"])(r,a,i,!1,null,null,null);c.options.__file="baseLayout.vue";t["default"]=c.exports},6954:function(e,t,n){"use strict";var a=n("0895"),i=n.n(a);i.a}}]);