(function(e){function t(t){for(var n,r,s=t[0],l=t[1],c=t[2],u=0,d=[];u<s.length;u++)r=s[u],o[r]&&d.push(o[r][0]),o[r]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);p&&p(t);while(d.length)d.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],n=!0,r=1;r<a.length;r++){var s=a[r];0!==o[s]&&(n=!1)}n&&(i.splice(t--,1),e=l(l.s=a[0]))}return e}var n={},r={app:0},o={app:0},i=[];function s(e){return l.p+"js/"+({}[e]||e)+"."+{"chunk-018eef38":"5b1476c3","chunk-26658617":"d17a5380","chunk-3cc47c4e":"c8d42ee0","chunk-5f65cafe":"4b3d2b18","chunk-70f50966":"0fb62d85","chunk-7203ad4d":"a1a1fd63","chunk-759bbb93":"186d3685","chunk-761b101d":"714b79c3","chunk-7e823b82":"b45fa2ff","chunk-84943fdc":"db64dc86","chunk-ba280edc":"f4f0000b","chunk-c3e7ea82":"1038e576"}[e]+".js"}function l(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.e=function(e){var t=[],a={"chunk-018eef38":1,"chunk-26658617":1,"chunk-3cc47c4e":1,"chunk-5f65cafe":1,"chunk-70f50966":1,"chunk-7203ad4d":1,"chunk-759bbb93":1,"chunk-761b101d":1,"chunk-7e823b82":1,"chunk-84943fdc":1,"chunk-ba280edc":1,"chunk-c3e7ea82":1};r[e]?t.push(r[e]):0!==r[e]&&a[e]&&t.push(r[e]=new Promise(function(t,a){for(var n="css/"+({}[e]||e)+"."+{"chunk-018eef38":"f6a9f66f","chunk-26658617":"342a246c","chunk-3cc47c4e":"0e433876","chunk-5f65cafe":"b0d46eb4","chunk-70f50966":"2fbb6c26","chunk-7203ad4d":"d29d42d0","chunk-759bbb93":"f161e16e","chunk-761b101d":"b103105f","chunk-7e823b82":"8b5fefc0","chunk-84943fdc":"6dcb8155","chunk-ba280edc":"4ba227cc","chunk-c3e7ea82":"5ab5b743"}[e]+".css",r=l.p+n,o=document.getElementsByTagName("link"),i=0;i<o.length;i++){var s=o[i],c=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(c===n||c===r))return t()}var u=document.getElementsByTagName("style");for(i=0;i<u.length;i++){s=u[i],c=s.getAttribute("data-href");if(c===n||c===r)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var n=t&&t.target&&t.target.src||r,o=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");o.request=n,a(o)},d.href=r;var p=document.getElementsByTagName("head")[0];p.appendChild(d)}).then(function(){r[e]=0}));var n=o[e];if(0!==n)if(n)t.push(n[2]);else{var i=new Promise(function(t,a){n=o[e]=[t,a]});t.push(n[2]=i);var c,u=document.getElementsByTagName("head")[0],d=document.createElement("script");d.charset="utf-8",d.timeout=120,l.nc&&d.setAttribute("nonce",l.nc),d.src=s(e),c=function(t){d.onerror=d.onload=null,clearTimeout(p);var a=o[e];if(0!==a){if(a){var n=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src,i=new Error("Loading chunk "+e+" failed.\n("+n+": "+r+")");i.type=n,i.request=r,a[1](i)}o[e]=void 0}};var p=setTimeout(function(){c({type:"timeout",target:d})},12e4);d.onerror=d.onload=c,u.appendChild(d)}return Promise.all(t)},l.m=e,l.c=n,l.d=function(e,t,a){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)l.d(a,n,function(t){return e[t]}.bind(null,n));return a},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="",l.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var d=0;d<c.length;d++)t(c[d]);var p=u;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"04b3":function(e,t,a){},"04c6":function(e,t,a){"use strict";a.d(t,"a",function(){return n}),a.d(t,"b",function(){return r});var n=[{key:0,value:"个人"},{key:1,value:"宿舍"}],r=[{key:0,value:"未交租"},{key:1,value:"已交租"},{key:2,value:"未交租"},{key:3,value:"账单未填写"},{key:4,value:"待确认"}]},"178e":function(e,t){},"1e7b":function(e,t){},"23ec":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Select",{attrs:{placeholder:"请选择地址",filterable:""},model:{value:e.val,callback:function(t){e.val=t},expression:"val"}},e._l(e.data,function(t){return a("Option",{key:t.id,attrs:{value:t.id}},[e._v(e._s(t.name))])}))},r=[],o=(a("7514"),a("4260")),i={props:{value:""},name:"",data:function(){return{data:[],val:null}},mounted:function(){var e=this;o["a"].ajax("admin/building/list").then(function(t){var a=t.code,n=t.data;0==a&&(e.data=n,e.val=e.value)})},watch:{value:function(e){this.val=e},val:function(e){var t=this;this.$emit("input",e),this.$nextTick(function(){t.$emit("change",t.data.find(function(t){return t.id==e}))})}}},s=i,l=(a("fd32"),a("2877")),c=Object(l["a"])(s,n,r,!1,null,"eca30d9a",null);c.options.__file="addressSelect.vue";t["a"]=c.exports},2599:function(e,t,a){},"338a":function(e,t,a){"use strict";var n=a("53ca"),r=(a("f751"),a("b6ba")),o=a("6d91"),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Poptip",{attrs:{trigger:"hover",content:e.id,width:200,"popper-class":"phone-tip"}},[e._v("\n    "+e._s(e._f("idFormat")(e.id))+"\n")])},s=[],l={props:["id"]},c=l,u=(a("9cc4"),a("2877")),d=Object(u["a"])(c,i,s,!1,null,null,null);d.options.__file="idTip.vue";var p=d.exports,h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Poptip",{attrs:{trigger:"hover",content:e.phone,width:100,"popper-class":"phone-tip"}},[e._v("\n    "+e._s(e._f("phoneFormat")(e.phone))+"\n")])},f=[],m={props:["phone"]},b=m,g=(a("8174"),Object(u["a"])(b,h,f,!1,null,null,null));g.options.__file="phoneTip.vue";var v=g.exports,y=a("4260");t["a"]={components:{vTable:r["a"],searchCard:o["a"],phoneTip:v,idTip:p},data:function(){return{curPage:1,pageSize:10,total:0,data:[],url:"",method:"POST",searchData:{},queryTerms:{},tableLoaing:!1,tempData:null}},methods:{beforeDataChange:function(e){return e},changePage:function(e){var t=this;this.curPage=e,this.tableLoaing=!0,y["a"].ajax(this.url,{data:Object.assign({pageSize:this.pageSize,pageNumber:e},this.queryTerms),loading:!1,method:this.method}).then(function(e){var a=e.code,n=e.data;t.tableLoaing=!1,0===a&&(n instanceof Array?t.data=t.beforeDataChange(n):(t.total=n.total,t.data=t.beforeDataChange(n).records))},function(){t.tableLoaing=!1})},search:function(){this.queryTerms=this.searchData,this.changePage(1)},reset:function(){var e;for(var t in this.searchData)if(e=this.searchData[t],"object"==Object(n["a"])(e))for(var a in e)e[a]="";else this.searchData[t]="";this.queryTerms={},this.changePage(1)}}}},"3bea":function(e,t,a){"use strict";var n=a("52e7"),r=a.n(n);r.a},"41cb":function(e,t,a){"use strict";a("cadf"),a("551c"),a("097d");var n=a("2b0e"),r=a("8c4f"),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Card",{attrs:{shadow:"",title:e.title}},[a("Form",{ref:"form",attrs:{model:e.data,rules:e.rules,"label-width":100}},[a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{prop:"buildingId",label:"地址："}},[a("address-select",{on:{change:e.addressChange},model:{value:e.data.buildingId,callback:function(t){e.$set(e.data,"buildingId",t)},expression:"data.buildingId"}})],1)],1),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{prop:"roomId",label:"房间："}},[a("rooms-select",{attrs:{aid:e.data.buildingId},on:{change:e.roomChange},model:{value:e.data.roomId,callback:function(t){e.$set(e.data,"roomId",t)},expression:"data.roomId"}})],1)],1)],1),a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{prop:"name",label:"姓名："}},[a("Input",{attrs:{readonly:e.disable,clearable:!e.disable,placeholder:"请输入姓名",maxlength:15},model:{value:e.data.name,callback:function(t){e.$set(e.data,"name",t)},expression:"data.name"}})],1)],1),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{prop:"mobile",label:"手机号："}},[a("Input",{attrs:{readonly:e.disable,clearable:!e.disable,placeholder:"请输入手机号",maxlength:11},model:{value:e.data.mobile,callback:function(t){e.$set(e.data,"mobile",t)},expression:"data.mobile"}})],1)],1)],1),a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{prop:"idCardNo",label:"身份证号："}},[a("Input",{attrs:{readonly:e.disable,clearable:!e.disable,placeholder:"请输入身份证号",maxlength:18,clearable:""},model:{value:e.data.idCardNo,callback:function(t){e.$set(e.data,"idCardNo",t)},expression:"data.idCardNo"}})],1)],1),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{prop:"dates",label:"日期："}},[a("DatePicker",{staticClass:"block",attrs:{disabled:e.disable,type:"daterange","split-panels":"",placeholder:"请选择日期"},model:{value:e.data.dates,callback:function(t){e.$set(e.data,"dates",t)},expression:"data.dates"}})],1)],1)],1),a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{prop:"houseType",label:"户型："}},[a("Row",[a("Dropdown",{staticClass:"block",on:{"on-click":e.houseTypeChange}},[a("Input",{attrs:{readonly:e.disable,clearable:!e.disable,placeholder:"请输入户型"},model:{value:e.data.houseType,callback:function(t){e.$set(e.data,"houseType",t)},expression:"data.houseType"}}),a("DropdownMenu",{attrs:{slot:"list"},slot:"list"},e._l(e.houseTypes,function(t){return a("DropdownItem",{key:t,attrs:{name:t}},[e._v(e._s(t))])}))],1)],1)],1)],1),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{prop:"type",label:"房屋用途："}},[a("Select",{attrs:{disabled:e.disable,placeholder:"请选择房屋用途"},model:{value:e.data.type,callback:function(t){e.$set(e.data,"type",t)},expression:"data.type"}},e._l(e.types,function(t){return a("Option",{key:t.key,attrs:{value:t.key}},[e._v(e._s(t.value))])}))],1)],1)],1),a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{prop:"baseRent",label:"租金："}},[a("InputNumber",{staticClass:"block",attrs:{readonly:e.disable,placeholder:"请输入租金"},model:{value:e.data.baseRent,callback:function(t){e.$set(e.data,"baseRent",t)},expression:"data.baseRent"}})],1)],1),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{prop:"deposit",label:"押金："}},[a("InputNumber",{staticClass:"block",attrs:{readonly:e.disable,placeholder:"请输入押金"},model:{value:e.data.deposit,callback:function(t){e.$set(e.data,"deposit",t)},expression:"data.deposit"}})],1)],1)],1),a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{prop:"manageFee",label:"管理费："}},[a("InputNumber",{staticClass:"block",attrs:{readonly:e.disable,placeholder:"请输入管理费"},model:{value:e.data.manageFee,callback:function(t){e.$set(e.data,"manageFee",t)},expression:"data.manageFee"}})],1)],1),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{prop:"netFee",label:"网费："}},[a("InputNumber",{staticClass:"block",attrs:{readonly:e.disable,placeholder:"请输入网费"},model:{value:e.data.netFee,callback:function(t){e.$set(e.data,"netFee",t)},expression:"data.netFee"}})],1)],1)],1),a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{prop:"watermeterBase",label:"水表底数："}},[a("InputNumber",{staticClass:"block",attrs:{readonly:e.disable,placeholder:"请输入水表底数"},model:{value:e.data.watermeterBase,callback:function(t){e.$set(e.data,"watermeterBase",t)},expression:"data.watermeterBase"}})],1)],1),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{prop:"elecmeterBase",label:"电表底数："}},[a("InputNumber",{staticClass:"block",attrs:{readonly:e.disable,placeholder:"请输入电表底数"},model:{value:e.data.elecmeterBase,callback:function(t){e.$set(e.data,"elecmeterBase",t)},expression:"data.elecmeterBase"}})],1)],1)],1),a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{prop:"waterFee",label:"水费单价："}},[a("InputNumber",{staticClass:"block",attrs:{readonly:e.disable,placeholder:"请输入水费单价"},model:{value:e.data.waterFee,callback:function(t){e.$set(e.data,"waterFee",t)},expression:"data.waterFee"}})],1)],1),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{prop:"elecFee",label:"电表单价："}},[a("InputNumber",{staticClass:"block",attrs:{readonly:e.disable,placeholder:"请输入电表单价"},model:{value:e.data.elecFee,callback:function(t){e.$set(e.data,"elecFee",t)},expression:"data.elecFee"}})],1)],1)],1),a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{prop:"gasFee",label:"燃气费："}},[a("InputNumber",{staticClass:"block",attrs:{readonly:e.disable,placeholder:"请输入燃气费"},model:{value:e.data.gasFee,callback:function(t){e.$set(e.data,"gasFee",t)},expression:"data.gasFee"}})],1)],1),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{prop:"hotWaterFee",label:"热水费："}},[a("InputNumber",{staticClass:"block",attrs:{readonly:e.disable,placeholder:"请输入热水费"},model:{value:e.data.hotWaterFee,callback:function(t){e.$set(e.data,"hotWaterFee",t)},expression:"data.hotWaterFee"}})],1)],1)],1),a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{prop:"rentDay",label:"每月交租日："}},[a("Select",{attrs:{disabled:e.disable,placeholder:"请选择每月交租日",filterable:""},model:{value:e.data.rentDay,callback:function(t){e.$set(e.data,"rentDay",t)},expression:"data.rentDay"}},e._l(e.days,function(t){return a("Option",{key:t,attrs:{value:t}},[e._v(e._s(t)+"日")])}))],1)],1),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{prop:"firstRent",label:"首次租金："}},[a("InputNumber",{staticClass:"block",attrs:{readonly:e.disable,placeholder:"请输入首次租金"},model:{value:e.data.firstRent,callback:function(t){e.$set(e.data,"firstRent",t)},expression:"data.firstRent"}})],1)],1)],1),a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{prop:"firstRentDate",label:"首次账单日期："}},[a("DatePicker",{staticClass:"block",attrs:{disabled:e.disable,type:"date",placeholder:"请选择首次账单日期"},model:{value:e.data.firstRentDate,callback:function(t){e.$set(e.data,"firstRentDate",t)},expression:"data.firstRentDate"}})],1)],1)],1),a("Row",{staticClass:"buttons"},[1==e.status?a("Button",{staticClass:"comfirm",attrs:{type:"success",size:"large"},on:{click:e.comfirm}},[e._v("新增")]):2==e.status?[a("Button",{staticClass:"comfirm",attrs:{type:"info",size:"large"},on:{click:e.comfirm}},[e._v("修改")]),a("Button",{staticClass:"comfirm",attrs:{type:"primary",size:"large"},on:{click:e.print}},[e._v("打印")]),a("Button",{staticClass:"comfirm",attrs:{type:"success",size:"large"},on:{click:e.exportData}},[e._v("导出")]),a("Button",{staticClass:"comfirm",attrs:{type:"error",size:"large"},on:{click:e.del}},[e._v("删除")])]:e._e()],2)],1)],1)},i=[],s=a("be94"),l=(a("7f7f"),a("0d6d"),a("23ec")),c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Select",{attrs:{placeholder:e.placeholder,filterable:"",disabled:e.disabled},model:{value:e.val,callback:function(t){e.val=t},expression:"val"}},e._l(e.data,function(t){return a("Option",{key:t.id,attrs:{value:t.id}},[e._v(e._s(t.name))])}))},u=[],d=(a("7514"),a("4260")),p={props:{value:"",aid:""},name:"",data:function(){return{data:[],val:"",disabled:!1,placeholder:""}},methods:{getRooms:function(){var e=this;if(null==this.aid)return this.disabled=!0,this.val="",void(this.placeholder="请先选择地址");this.disabled=!1,this.placeholder="请选择门牌号",d["a"].ajax.get("admin/room/list",{params:{buildingId:this.aid}}).then(function(t){var a=t.code,n=t.data;0==a&&(e.data=n,0==n.length&&(e.$Message.warning("该房源暂无房屋"),e.disabled=!0))})}},mounted:function(){this.val=this.value,this.getRooms()},watch:{value:function(e){this.val=e},val:function(e){void 0!==e&&(this.$emit("input",e),this.$emit("change",this.data.find(function(t){return t.id==e})))},aid:function(){this.$emit("input",null),this.getRooms()}}},h=p,f=(a("c4ee"),a("2877")),m=Object(f["a"])(h,c,u,!1,null,"4262f6e8",null);m.options.__file="roomsSelect.vue";var b=m.exports,g=a("04c6"),v=1,y=d["a"].getRules(),k=["一室一厨一卫","两室一厅一卫","三室一厅一卫","三室两厅一卫","四室两厅两卫"],w=function(e){return d["a"].formatTime(e,"YYYY-MM-dd")};Object.freeze(g["a"]),Object.freeze(k);var x={components:{addressSelect:l["a"],roomsSelect:b},name:"",data:function(){return{data:{buildingId:null,roomId:"",name:"",idCardNo:"",dates:[],houseType:null,type:null,baseRent:null,deposit:null,manageFee:null,netFee:null,watermeterBase:null,elecmeterBase:null,waterFee:null,elecFee:null,gasFee:null,hotWaterFee:null,firstRent:null,firstRentDate:null,rentDay:null},rules:{roomId:d["a"].getRequiredRule("请选择门牌号"),name:d["a"].getRequiredRule("姓名不能为空"),mobile:y.phone,idCardNo:y.idCardNum,dates:{type:"array",required:!0,len:2,trigger:"change",message:"日期不能为空",fields:{0:{type:"date",message:"日期不能为空"},1:{type:"date",message:"日期不能为空"}}},type:d["a"].getRequiredRuleOnChange("房屋用途不能为空"),baseRent:d["a"].getRequiredRule("租金不能为空"),deposit:d["a"].getRequiredRule("押金不能为空"),manageFee:d["a"].getRequiredRule("管理费不能为空"),netFee:d["a"].getRequiredRule("网费不能为空"),watermeterBase:d["a"].getRequiredRule("水表底数不能为空"),elecmeterBase:d["a"].getRequiredRule("电表底数不能为空"),waterFee:d["a"].getRequiredRule("水费单价不能为空"),elecFee:d["a"].getRequiredRule("电表单价不能为空"),gasFee:d["a"].getRequiredRule("燃气费不能为空"),hotWaterFee:d["a"].getRequiredRule("热水费不能为空"),rentDay:d["a"].getRequiredRuleOnChange("每月交租日不能为空")},title:"新增租约",address:"",room:"",types:g["a"],houseTypes:k,addTypeLoading:!1}},computed:{status:function(){return v},disable:function(){return 3===this.status},days:function(){return[1,15]}},created:function(){var e=this.$route.path;"/contract_update"==e?(v=2,this.title="编辑租约"):"/contract_print"==e?(v=3,this.title="打印租约"):(v=1,this.title="新增租约")},methods:{addressChange:function(e){e&&(this.address=e.name)},roomChange:function(e){var t=this;if(1!=this.status){e&&(this.room=e.name);var a=this.data,n=a.roomId,r=a.buildingId;n&&d["a"].ajax("/admin/contract",{params:{roomId:n}}).then(function(e){var a=e.code,o=e.data;0==a&&(o?(o.dates=[o.checkinDate,o.dueDate],delete o.checkinDate,delete o.dueDate,t.data=Object(s["a"])({},o,{roomId:n,buildingId:r})):(t.$refs.form.resetFields(),t.data.roomId=n,t.data.buildingId=r,t.$Message.warning("该房间暂无合同")))})}},exportData:function(){this.checkId()&&d["a"].exportFile("/admin/contract/export",{contractId:this.data.id},"合同-".concat(this.data.name,".xls"))},del:function(){var e=this;this.checkId()&&this.$Modal.confirm({title:"提示",content:"是否删除该合同?",onOk:function(){d["a"].ajax.delete("/admin/contract",{params:{contractId:e.data.id}}).then(function(t){var a=t.code;0==a&&(e.$Message.success("删除成功"),e.$refs.form.resetFields())})}})},print:function(){this.checkId()&&window.open("#/contract/print/".concat(this.data.roomId,"?address=").concat(this.address,"&room=").concat(this.room))},comfirm:function(){var e=this;(2!=this.status||this.checkId())&&this.$refs.form.validate(function(t){if(t){var a=Object(s["a"])({},e.data),n=a.dates,r=a.firstRentDate,o="post";a.checkinDate=w(n[0]),a.dueDate=w(n[1]),delete a.dates,delete a.buildingId,a.firstRentDate=w(r),2==e.status&&(delete a.roomAddress,delete a.img,delete a.attachContactList),d["a"].ajax("admin/contract",{method:o,data:a}).then(function(t){var a=t.code;0==a&&(1==e.status?e.$Message.success("新增成功"):2==e.status&&e.$Message.success("修改成功"))})}})},checkId:function(){return!!this.data.id||(this.$Message.warning("请先选择房屋"),!1)},houseTypeChange:function(e){this.data.houseType=e}}},_=x,R=(a("3bea"),Object(f["a"])(_,o,i,!1,null,"d46b23bc",null));R.options.__file="add.vue";var I=R.exports,F=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("search-card",[a("Form",{staticClass:"block",attrs:{"label-width":150},nativeOn:{submit:function(e){e.preventDefault()}}},[a("FormItem",{attrs:{label:"姓名或手机号："}},[a("Input",{staticClass:"common-input",attrs:{placeholder:"请输入姓名或手机号",search:"","enter-button":"搜索"},on:{"on-search":e.search},model:{value:e.searchData.param,callback:function(t){e.$set(e.searchData,"param",t)},expression:"searchData.param"}})],1)],1)],1),a("Divider"),a("Card",{attrs:{shadow:""}},[a("h4",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.title))]),a("v-table",{attrs:{table:{data:e.data,loading:e.tableLoaing},total:e.total,current:e.curPage,pageSize:e.pageSize,showPage:!0},on:{"change-page":e.changePage,"update:current":function(t){e.curPage=t},"update:pageSize":function(t){e.pageSize=t}}},[a("div",{key:"name",attrs:{title:"姓名"}}),a("div",{attrs:{title:"手机号码"},scopedSlots:e._u([{key:"default",fn:function(e){return a("div",{},[a("phone-tip",{attrs:{phone:e.mobile}})],1)}}])}),a("div",{attrs:{title:"身份证号码"},scopedSlots:e._u([{key:"default",fn:function(e){return a("div",{},[a("id-tip",{attrs:{id:e.idCardNo}})],1)}}])}),a("div",{attrs:{title:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return a("div",{},[a("Button",{attrs:{type:"info",size:"small"},on:{click:function(a){e.edit(t)}}},[e._v("编辑")])],1)}}])})])],1),a("Modal",{attrs:{title:"编辑信息",width:"500"},model:{value:e.modal.visible,callback:function(t){e.$set(e.modal,"visible",t)},expression:"modal.visible"}},[a("Form",{ref:"form",attrs:{model:e.modal.data,rules:e.modal.rules,"label-width":100}},[a("Row",[a("FormItem",{attrs:{prop:"name",label:"姓名："}},[a("Input",{attrs:{placeholder:"请输入姓名"},model:{value:e.modal.data.name,callback:function(t){e.$set(e.modal.data,"name",t)},expression:"modal.data.name"}})],1)],1),a("Row",[a("FormItem",{attrs:{prop:"mobile",label:"手机号："}},[a("Input",{attrs:{placeholder:"请输入手机号"},model:{value:e.modal.data.mobile,callback:function(t){e.$set(e.modal.data,"mobile",t)},expression:"modal.data.mobile"}})],1)],1),a("Row",[a("FormItem",{attrs:{prop:"idCardNo",label:"身份证号码："}},[a("Input",{attrs:{placeholder:"请输入身份证号码"},model:{value:e.modal.data.idCardNo,callback:function(t){e.$set(e.modal.data,"idCardNo",t)},expression:"modal.data.idCardNo"}})],1)],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"text",size:"large"},on:{click:function(t){e.modal.visible=!1}}},[e._v("取消")]),a("Button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确定")])],1)],1)],1)},C=[],$=(a("386d"),a("338a")),D=d["a"].getRules(),j=1,T={mixins:[$["a"]],name:"",data:function(){return{url:"admin/user/list",modal:{visible:!1,data:{name:"",mobile:"",idCardNo:""},rules:{name:d["a"].getRequiredRule("姓名不能为空"),mobile:D.phone,idCardNo:D.idCardNum}},title:"房东列表",searchData:{param:"",type:1}}},computed:{status:function(){return j}},created:function(){var e=this.$route.name;"houseman"==e?(j=2,this.title="房管列表"):"tenant"==e?(j=3,this.title="租客列表"):(j=1,this.title="房东列表"),this.searchData.type=j},methods:{edit:function(e){var t=e.id,a=e.idCardNo,n=e.mobile,r=e.name;this.modal.data={id:t,idCardNo:a,mobile:n,name:r},this.modal.visible=!0},confirm:function(){var e=this;this.$refs.form.validate(function(t){t&&d["a"].ajax.put("admin/user",e.modal.data).then(function(t){var a=t.code;0==a&&(e.$Message.success("编辑成功"),e.modal.visible=!1,e.changePage(e.curPage))})})}},mounted:function(){this.search()}},P=T,S=(a("f0f6"),Object(f["a"])(P,F,C,!1,null,"00ffa01b",null));S.options.__file="user.vue";var O=S.exports,M={extends:I},B={extends:I},N={extends:O},E={extends:O};n["default"].use(r["a"]);var z=[{path:"/",component:function(e){return a.e("chunk-ba280edc").then(function(){var t=[a("1d28")];e.apply(null,t)}.bind(this)).catch(a.oe)},redirect:"building",children:[{path:"index",name:"index",component:function(e){a.e("chunk-761b101d").then(function(){var t=[a("1e4b")];e.apply(null,t)}.bind(this)).catch(a.oe)}},{path:"landlord",name:"landlord",meta:{parent:"account"},component:O},{path:"rooms",name:"rooms",component:function(e){a.e("chunk-7e823b82").then(function(){var t=[a("5e19")];e.apply(null,t)}.bind(this)).catch(a.oe)}},{path:"houseman",name:"houseman",meta:{parent:"account"},component:N},{path:"tenant",name:"tenant",meta:{parent:"account"},component:E},{path:"building",name:"building",component:function(e){a.e("chunk-018eef38").then(function(){var t=[a("1a5c")];e.apply(null,t)}.bind(this)).catch(a.oe)}},{path:"add_bill",name:"addBill",meta:{parent:"bill"},component:function(e){a.e("chunk-759bbb93").then(function(){var t=[a("8e9a")];e.apply(null,t)}.bind(this)).catch(a.oe)}},{path:"bill_list",name:"billList",meta:{parent:"bill"},component:function(e){a.e("chunk-70f50966").then(function(){var t=[a("05b6")];e.apply(null,t)}.bind(this)).catch(a.oe)}},{path:"contract_add",name:"contractAdd",meta:{parent:"contract"},component:I},{path:"contract_update",name:"contractUpdate",meta:{parent:"contract"},component:M},{path:"contract_print",name:"contractPrint",meta:{parent:"contract"},component:B},{path:"bill",name:"bill",meta:{parent:"bill"},component:function(e){a.e("chunk-84943fdc").then(function(){var t=[a("2a29")];e.apply(null,t)}.bind(this)).catch(a.oe)}}]},{path:"/contract/print/:id",name:"cPrint",component:function(e){a.e("chunk-5f65cafe").then(function(){var t=[a("0126")];e.apply(null,t)}.bind(this)).catch(a.oe)}},{path:"/bill/print/:id",name:"bPrint",component:function(e){a.e("chunk-3cc47c4e").then(function(){var t=[a("55ef")];e.apply(null,t)}.bind(this)).catch(a.oe)}},{path:"/bill/list/print/:id/:year/:month",name:"blPrint",component:function(e){a.e("chunk-26658617").then(function(){var t=[a("cd2c")];e.apply(null,t)}.bind(this)).catch(a.oe)}},{path:"/login",name:"login",component:function(e){return a.e("chunk-7203ad4d").then(function(){var t=[a("71a8")];e.apply(null,t)}.bind(this)).catch(a.oe)}},{path:"*",component:function(e){return a.e("chunk-c3e7ea82").then(function(){var t=[a("8cdb")];e.apply(null,t)}.bind(this)).catch(a.oe)}}];t["a"]=new r["a"]({base:"",routes:z})},4260:function(e,t,a){"use strict";a("34ef"),a("28a5"),a("14b9");var n,r=a("53ca"),o=(a("7f7f"),a("3b2b"),a("a481"),a("be94")),i=(a("cadf"),a("551c"),a("097d"),a("bc3a")),s=a.n(i),l=(a("c563"),function(){function e(e,n){return e&&n?n instanceof Date?a(e,n):t(e,n):0}function t(e,t){return new Date(e.getFullYear()+(t[0]||0),e.getMonth()+(t[1]||0),e.getDate()+(t[2]||0))}function a(e,t){e=new Date(e.getFullYear(),e.getMonth(),e.getDate()),t=new Date(t.getFullYear(),t.getMonth(),t.getDate());var r=e.getTime(),o=t.getTime();if(r>o)return a(t,e);var i=Math.round((o-r)/864e5),s=e.getFullYear(),l=t.getFullYear(),c=e.getMonth(),u=t.getMonth(),d=e.getDate(),p=t.getDate();d>p&&(p+=n(++c,s)),c>u&&(u+=12,s++);var h=l-s,f=u-c,m=p-d,b=[h,f,m,i];return b}function n(e,t){return new Date(t,e,0).getDate()}return e}()),c=l,u={},d="http://118.190.38.28:8768/";u.platform="",u.baseURL=d,u.init=function(e){n=e},u.ajax=s.a.create({baseURL:d,timeout:3e4,headers:{"Content-Type":"application/json"}});var p=document.createElement("div");p.setAttribute("style","position: fixed;top: 0;left: 0;right: 0;bottom: 0;background: rgba(0,0,0,0);z-index:1001;display:none;"),p.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 50 50" style="enable-background:new 0 0 50 50;width: 50px;height: 50px;position: absolute;top: 50%;left: 50%;margin: -25px 0 0 -25px;" xml:space="preserve">\t<path d="M43.935,25.145c0-10.318-8.364-18.683-18.683-18.683c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615c8.072,0,14.615,6.543,14.615,14.615H43.935z" transform="rotate(65.3608 25 25)" style="fill:#666">\t<animateTransform attributeType="xml" attributeName="transform" type="rotate" from="0 25 25" to="360 25 25" dur="0.6s" repeatCount="indefinite"></animateTransform>\t</path>\t</svg>',document.body.appendChild(p);var h=!0,f=!1,m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;h=!0,setTimeout(function(){h&&"block"!=p.style.display&&(p.style.display="block",n.$Message.warning({content:"正在处理，请稍后",duration:0}))},e)},b=function(){"block"==p.style.display&&n.$Message.destroy(),h=!1,p.style.display="none"};function g(e){for(var t in e)"string"==typeof item&&(e[t]=item.trim())}function v(e){for(var t in e)"created_at"!=t&&"updated_at"!=t||delete e[t]}u.ajax.interceptors.request.use(function(e){var t=localStorage.token,a=e.url;return 0!=a.indexOf("//")&&0!=a.indexOf("http")?(t&&""!=t&&(e.headers.common.Authorization=t),e.isUseBaseURL=!0):e.isUseBaseURL=!1,e.params&&g(e.params),e.data&&(v(e.data),g(e.data)),!1!==e.loading&&m(),e});var y=B(function(){n.$Message.warning("登录失效，请重新登录")},200);u.ajax.interceptors.response.use(function(e){return b(),"application/vnd.ms-excel"===e.headers["content-type"]?e:(""===e.data?n.$Message.warning("数据返回有误"):1024==e.data.code?(M(!0),y()):501==e.data.code?n.$Message.warning("暂无权限"):0!=e.data.code&&"get"!=e.config.method&&e.config.isUseBaseURL&&n.$Message.error(e.data.msg),e.data)},function(e){return f?Promise.reject(e):(f=!0,b(),n.$Message.error({content:"服务器连接有问题，请稍后再试",onClose:function(){return f=!1}}),Promise.reject(e))});var k={phone:w("手机号码不能为空","手机号码输入有误"),password:[F("密码不能为空"),{pattern:/^.{6,16}$/,message:"密码长度只能在6-16位之间",trigger:"blur"}],idCardNum:[F("身份证号码不能为空"),D()],longitude:[F("经度不能为空"),{pattern:/^-?((0|1?[0-7]?[0-9]?)(([.][0-9]{1,6})?)|180(([.][0]{1,6})?))$/,message:"请输入正确格式的经度",trigger:"blur"}],latitude:[F("纬度不能为空"),{pattern:/^-?((0|[1-8]?[0-9]?)(([.][0-9]{1,6})?)|90(([.][0]{1,6})?))$/,message:"请输入正确格式的纬度",trigger:"blur"}]};function w(e,t){return[F(e),{pattern:/^1[3456789][0-9]{9}$/,message:t,trigger:"blur"}]}function x(e){return[F(e+"不能为空"),{pattern:/(^1[345789][0-9]{9}$)|(^(0[0-9]{2,3}(\-)?)([2-9][0-9]{6,7})+(\-[0-9]{1,4})?$)/,message:"请输入正确格式的手机或者电话",trigger:"blur"}]}function _(e,t){return R(e+"名称",t)}function R(e,t){return[F(e+"不能为空"),I(e,t)]}function I(e,t){return{type:"string",max:t,message:e+"不能超过"+t+"个字",trigger:"blur"}}function F(e){return{required:!0,message:e,trigger:"blur",transform:function(e){return null==e?"":e+""}}}function C(e){return{required:!0,message:e,trigger:"change",transform:function(e){return null===e?null:e+""}}}function $(e){return{message:e,trigger:"blur",pattern:/https?:\/\/[-A-Za-z0-9+&@#\/%?=~_|!:,.;]+[-A-Za-z0-9+&@#\/%=~_|]/}}function D(){return{validator:function(e,t,a){""==t||(new IDValidator).isValid(t)?a():a(new Error("身份证号码输入有误"))},trigger:"blur"}}u.getRules=function(){return Object(o["a"])({},k)},u.getPassRule=function(){return[F("密码不能为空"),{pattern:/^.{6,16}$/,message:"密码长度只能在6-16位之间",trigger:"blur"}]},u.getPhoneRule=w,u.getContactPhoneRule=x,u.getNameRule=_,u.getSizeRule=R,u.getSimpleSizeRule=I,u.getRequiredRule=F,u.getRequiredRuleOnChange=C,u.getURLRule=$,u.getIDCardRule=D,u.formatTime=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-dd hh:mm:ss";if(!e)return"";t=e instanceof Date?e:e?new Date(1e3*e):new Date;var n={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),"S+":t.getMilliseconds()};for(var r in/(y+)/i.test(a)&&(a=a.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+r+")").test(a)&&(a=a.replace(RegExp.$1,1==RegExp.$1.length?n[r]:("00"+n[r]).substr((""+n[r]).length)));return a},u.generateMixed=function(e){for(var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],a="",n=0;n<e;n++){var r=Math.ceil(35*Math.random());a+=t[r]}return a},u.showBigImg=function(e){var t=document.createElement("div");t.setAttribute("style","position: fixed;top: 0;left: 0;right: 0;bottom: 0;background: rgba(0,0,0,.8);z-index:1101;");var a=document.createElement("img");a.setAttribute("style","top: 0;left: 0;right: 0;bottom: 0;max-height: 100%;max-width: 100%;margin: auto;position:absolute;"),a.setAttribute("src",e),t.appendChild(a),t.onclick=function(e){document.body.removeChild(t)},document.body.appendChild(t)},u.getProjectSetting=function(e){return u.ajax("project_config/"+e).then(function(e){return 200==e.code?e.data:0})},u.getProjectSettingByName=function(e,t){return u.getProjectSetting(e).then(function(e){var a=parseInt(e[t]);return a=0==a?1200:a,c(new Date,[0,a,0])})};var j=function e(t,a){t&&t.$options&&("Input"!=t.$options._componentTag?0!=t.$children.length&&t.$children.map(function(t){e(t,a)}):t.handleEnter=a)};u.handleEnter=j,u.fmTime=function(e){return 0==e?"无":u.formatTime(e)};var T=function e(t,a,n){if(null==t)return"";var o="",i=Object(r["a"])(t);if("string"==i||"number"==i||"boolean"==i)o+="&"+a+"="+(null==n||n?encodeURIComponent(t):t);else for(var s in t){var l=null==a?s:a+(t instanceof Array?"["+s+"]":"."+s);o+=e(t[s],l,n)}return o};u.urlEncode=T;var P=function(e){return!e||e.length<8?e:e.substr(0,3)+"****"+e.substr(7)};u.phoneFormat=P;var S=function(e){return!e||e.length<15?e:e.substr(0,6)+"*".repeat(8)+e.substr(14)};u.idFormat=S;var O=function(e){for(var t=e.toDataURL("image/jpeg").split(",")[1],a=window.atob(t),n=new Uint8Array(a.length),r=0;r<a.length;r++)n[r]=a.charCodeAt(r);return new Blob([n],{type:"image/jpeg"})};u.canvasToBlob=O;var M=function(e){e&&localStorage.removeItem("token")};function B(e,t){var a=null;return function(){var n=this,r=arguments;a&&clearTimeout(a),a=setTimeout(function(){e.apply(n,r)},t)}}function N(e,t){return(Array(t).join(0)+e).slice(-t)}function E(e){return"undefined"===typeof e||null===e||""===e}u.clearSession=M,u.debounce=B,u.prefixInteger=N,u.isEmpty=E,u.exportFile=function(e,t,a){u.ajax(e,{params:t,responseType:"blob"}).then(function(e){var t=new Blob([e.data]);if("download"in document.createElement("a")){var n=document.createElement("a");n.download=a,n.style.display="none",n.href=URL.createObjectURL(t),document.body.appendChild(n),n.click(),URL.revokeObjectURL(n.href),document.body.removeChild(n)}else navigator.msSaveBlob(t,fileName)})},u.getRentFee=function(e){return e.baseRent+e.practicalElecmeter*e.elecFee+e.practicalWatermeter*e.waterFee+e.gasFee+e.hotWaterFee+e.manageFee+e.netFee},u.getRentInfo=function(e){var t=e.baseRent,a=e.deposit,n=e.elecFee,r=e.elecmeterLastmonth,o=e.elecmeterThismonth,i=e.gasFee,s=e.hotWaterFee,l=e.id,c=e.manageFee,u=e.netFee,d=e.practicalElecmeter,p=e.practicalWatermeter,h=e.remainDays,f=e.rentDate,m=e.rentFee,b=e.roomId,g=e.waterFee,v=e.watermeterLastmonth,y=e.watermeterThismonth;return{baseRent:t,deposit:a,elecFee:n,elecmeterLastmonth:r,elecmeterThismonth:o,gasFee:i,hotWaterFee:s,id:l,manageFee:c,netFee:u,practicalElecmeter:d,practicalWatermeter:p,remainDays:h,rentDate:f,rentFee:m,roomId:b,waterFee:g,watermeterLastmonth:v,watermeterThismonth:y}};t["a"]=u},"52e7":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("097d"),a("db4d");var n=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("router-view")},o=[],i=(a("7c55"),a("2877")),s={},l=Object(i["a"])(s,r,o,!1,null,null,null);l.options.__file="App.vue";var c=l.exports,u=a("41cb"),d=a("2f62");n["default"].use(d["a"]);var p=new d["a"].Store({state:{},getters:{},mutations:{},actions:{}}),h=p,f=a("e069"),m=a.n(f),b=(a("04b3"),a("4260")),g=m.a.Modal.confirm;m.a.Modal.confirm=function(e){e["title"]||(e.title="提示"),g(e)},n["default"].config.productionTip=!1,n["default"].use(m.a),u["a"].beforeEach(function(e,t,a){m.a.LoadingBar.start(),a()}),u["a"].afterEach(function(){m.a.LoadingBar.finish(),window.scrollTo(0,0)}),n["default"].filter("formatTime",b["a"].formatTime),n["default"].filter("phoneFormat",b["a"].phoneFormat),n["default"].filter("idFormat",b["a"].idFormat);var v=new n["default"]({router:u["a"],store:h,render:function(e){return e(c)}}).$mount("#app");b["a"].init(v)},"5c48":function(e,t,a){},"6d91":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Card",{class:["search-card",{"no-padding":!e.open}],attrs:{shadow:""}},[a("p",{attrs:{slot:"title"},slot:"title"},[e._v("\n        查询条件\n    ")]),a("a",{attrs:{slot:"extra",href:"javascript:;"},on:{click:function(t){e.open=!e.open}},slot:"extra"},[a("Icon",{attrs:{type:e.open?"ios-arrow-up":"ios-arrow-down"}}),e._v("\n        "+e._s(e.open?"收起":"展开")+"\n    ")],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.open,expression:"open"}]},[e._t("default")],2)])},r=[],o={data:function(){return{open:!0}}},i=o,s=(a("de3a"),a("2877")),l=Object(s["a"])(i,n,r,!1,null,null,null);l.options.__file="searchCard.vue";t["a"]=l.exports},"7c55":function(e,t,a){"use strict";var n=a("5c48"),r=a.n(n);r.a},8174:function(e,t,a){"use strict";var n=a("dab7"),r=a.n(n);r.a},"9cc4":function(e,t,a){"use strict";var n=a("2599"),r=a.n(n);r.a},a69e:function(e,t,a){},b6ba:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Row",{staticClass:"table-con"},[a("Table",e._g(e._b({attrs:{columns:e.columns}},"Table",e.table,!1),e.tableMethod))],1),e.showPage?a("Row",{staticClass:"pagination-con"},[a("Page",{attrs:{"page-size":e.pageSize,total:e.total,"show-elevator":"","show-sizer":"","show-total":"",current:e.curPage},on:{"on-change":e.changePage,"on-page-size-change":e.changePageSize,"update:current":function(t){e.curPage=t}}})],1):e._e()],1)},r=[],o=a("be94"),i=a("2909"),s={data:function(){return{curPage:1,columns:[]}},props:{table:{},tableMethod:{},pageSize:{default:10},total:{},current:{default:0},showPage:{default:!1}},methods:{changePage:function(e){this.$emit("change-page",e)},changePageSize:function(e){this.$emit("update:pageSize",e),this.$emit("change-page",1)},_changeColumns:function(){if(this.$slots.default){var e=[];this.$slots.default.map(function(t){if(t.tag){var a={key:t.data.key,className:t.data.staticClass};(t.data.scopedSlots||t.children)&&(a.render=function(e,a){var n=[];return t.children&&(n=Object(i["a"])(t.children)),t.data.scopedSlots&&n.push(t.data.scopedSlots.default(a.row)),1==n.length?n[0]:e("div",n)}),e.push(Object(o["a"])({},a,t.data.attrs,t.data.on))}}),this.columns=e}else this.columns=[]}},watch:{curPage:function(e){this.$emit("update:current",e)},current:function(e){this.curPage=e}},mounted:function(){this._changeColumns()}},l=s,c=a("2877"),u=Object(c["a"])(l,n,r,!1,null,null,null);u.options.__file="vTable.vue";t["a"]=u.exports},b90a:function(e,t){},c4ee:function(e,t,a){"use strict";var n=a("1e7b"),r=a.n(n);r.a},c563:function(e,t,a){"use strict";(function(e){a("28a5"),a("6b54");var t=a("53ca");!function(t){var n="undefined"!=typeof window,r=n?window:this,o=function(){return t(n,r)};"undefined"!=typeof define&&a("3c35")?define("IDValidator",[],o):"function"==typeof define&&define.cmd?define(function(e,a,o){o.exports=t(n,r)}):e.exports?e.exports=t(n,r):r.IDValidator=t(n,r)}(function(e,a){var n={error:{longNumber:"长数字存在精度问题，请使用字符串传值！ Long number is not allowed, because the precision of the Number In JavaScript."}},r={checkArg:function(e,a){var r=Object(t["a"])(e);switch(r){case"number":if(e=e.toString(),e.length>15)return this.error(n.error.longNumber),!1;break;case"string":break;default:return!1}if(e=e.toUpperCase(),a&&!isNaN(a)&&(a=parseInt(a),e.length!==a))return!1;var o=null;if(18===e.length)o={body:e.slice(0,17),checkBit:e.slice(-1),type:18};else{if(15!==e.length)return!1;o={body:e,type:15}}return o},checkAddr:function(e,t){var a=this.getAddrInfo(e,t);return!1!==a},getAddrInfo:function(e,t){return t=t||null,null===t?e:t.hasOwnProperty(e)?t[e]:(a=e.slice(0,4)+"00",t.hasOwnProperty(a)?t[a]+"未知地区":(a=e.slice(0,2)+"0000",!!t.hasOwnProperty(a)&&t[a]+"未知地区"));var a},checkBirth:function(e){var t,a;if(8==e.length)parseInt(e.slice(0,4),10),t=parseInt(e.slice(4,6),10),a=parseInt(e.slice(-2),10);else{if(6!=e.length)return!1;parseInt("19"+e.slice(0,2),10),t=parseInt(e.slice(2,4),10),a=parseInt(e.slice(-2),10)}return!(t>12||0===t||a>31||0===a)},checkOrder:function(e){return!0},weight:function(e){return Math.pow(2,e-1)%11},rand:function(e,t){return t=t||1,Math.round(Math.random()*(e-t))+t},str_pad:function(e,t,a,n){if(e=e.toString(),t=t||2,a=a||"0",n=n||!1,e.length>=t)return e;for(var r=0,o=t-e.length;o>r;r++)n?e+=a:e=a+e;return e},error:function(e){var t=new Error;throw t.message="IDValidator: "+e,t}},o=function(e){"undefined"!=typeof e&&(this.GB2260=e),this.cache={}};return o.prototype={isValid:function(e,t){var a=this.GB2260||null,n=r.checkArg(e,t);if(!1===n)return!1;if(this.cache.hasOwnProperty(e)&&"undefined"!=typeof this.cache[e].valid)return this.cache[e].valid;this.cache.hasOwnProperty(e)||(this.cache[e]={});var o=n.body.slice(0,6),i=18===n.type?n.body.slice(6,14):n.body.slice(6,12),s=n.body.slice(-3);if(!(r.checkAddr(o,a)&&r.checkBirth(i)&&r.checkOrder(s)))return this.cache[e].valid=!1,!1;if(15===n.type)return this.cache[e].valid=!0,!0;for(var l=[],c=18;c>1;c--){var u=r.weight(c);l[c]=u}for(var d=0,p=n.body.split(""),h=0;h<p.length;h++)d+=parseInt(p[h],10)*l[18-h];var f=12-d%11;return 10==f?f="X":f>10&&(f%=11),f="number"==typeof f?f.toString():f,f!==n.checkBit?(this.cache[e].valid=!1,!1):(this.cache[e].valid=!0,!0)},getInfo:function(e,t){var a=this.GB2260||null;if(!1===this.isValid(e,t))return!1;var n=r.checkArg(e);if("undefined"!=typeof this.cache[e].info)return this.cache[e].info;var o=n.body.slice(0,6),i=18===n.type?n.body.slice(6,14):n.body.slice(6,12),s=n.body.slice(-3),l={};return l.addrCode=o,null!==a&&(l.addr=r.getAddrInfo(o,a)),l.birth=18===n.type?[i.slice(0,4),i.slice(4,6),i.slice(-2)].join("-"):["19"+i.slice(0,2),i.slice(2,4),i.slice(-2)].join("-"),l.sex=s%2===0?0:1,l.length=n.type,18===n.type&&(l.checkBit=n.checkBit),this.cache[e].info=l,l},makeID:function(e){var t=this.GB2260||null,a=null;if(null!==t)for(var n=0;null===a;){if(n>10){a=110101;break}var o=r.str_pad(r.rand(50),2,"0"),i=r.str_pad(r.rand(20),2,"0"),s=r.str_pad(r.rand(20),2,"0"),l=[o,i,s].join("");if(t[l]){a=l;break}}else a=110101;var c=r.str_pad(r.rand(99,50),2,"0"),u=r.str_pad(r.rand(12,1),2,"0"),d=r.str_pad(r.rand(28,1),2,"0");if(e)return a+c+u+d+r.str_pad(r.rand(999,1),3,"1");c="19"+c;for(var p=a+c+u+d+r.str_pad(r.rand(999,1),3,"1"),h=[],f=18;f>1;f--){var m=r.weight(f);h[f]=m}for(var b=0,g=p.split(""),v=0;v<g.length;v++)b+=parseInt(g[v],10)*h[18-v];var y=12-b%11;return 10==y?y="X":y>10&&(y%=11),y="number"==typeof y?y.toString():y,p+y}},o})}).call(this,a("dd40")(e))},dab7:function(e,t,a){},de3a:function(e,t,a){"use strict";var n=a("a69e"),r=a.n(n);r.a},f0f6:function(e,t,a){"use strict";var n=a("b90a"),r=a.n(n);r.a},fd32:function(e,t,a){"use strict";var n=a("178e"),r=a.n(n);r.a}});